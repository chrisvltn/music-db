(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{145:function(t,e,r){"use strict";var a=r(156),n=r(8),i=r.n(n),s=r(15),o=r(149),c={axios:r.n(o).a.create(),getArtistByArtistName:function(){var t=Object(s.a)(i.a.mark(function t(e){var r,a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.axios.get("/search.php",{params:{s:e}});case 2:if(r=t.sent,(a=r.data).artists){t.next=6;break}return t.abrupt("return",null);case 6:return t.abrupt("return",c.apiArtistToArtist(a.artists[0]));case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),getArtistAlbumsByArtistName:function(){var t=Object(s.a)(i.a.mark(function t(e){var r,a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.axios.get("/searchalbum.php",{params:{s:e}});case 2:return r=t.sent,a=r.data,t.abrupt("return",(a.album||[]).filter(function(t,e){return a.album.findIndex(function(e){return e.idAlbum===t.idAlbum})===e}).map(c.apiAlbumToAlbum).sort(function(t,e){return t.year<e.year?1:t.year>e.year?-1:0}));case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),getArtistTopTracksByArtistName:function(){var t=Object(s.a)(i.a.mark(function t(e){var r,a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.axios.get("/track-top10.php",{params:{s:e}});case 2:return r=t.sent,a=r.data,t.abrupt("return",(a.track||[]).filter(function(t,e){return a.track.findIndex(function(e){return e.idTrack===t.idTrack})===e}).map(c.apiTracktoTrack));case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),getTrendingAlbums:function(){var t=Object(s.a)(i.a.mark(function t(){var e,r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.axios.get("/trending.php",{params:{country:"us",type:"itunes",format:"albums"}});case 2:return e=t.sent,r=e.data,t.abrupt("return",(r.trending||[]).filter(function(t,e){return r.trending.findIndex(function(e){return e.idAlbum===t.idAlbum})===e}).map(c.apiTrendingToAlbum));case 5:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),getTrendingSingles:function(){var t=Object(s.a)(i.a.mark(function t(){var e,r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.axios.get("/trending.php",{params:{country:"us",type:"itunes",format:"singles"}});case 2:return e=t.sent,r=e.data,t.abrupt("return",(r.trending||[]).filter(function(t,e){return r.trending.findIndex(function(e){return e.idTrack===t.idTrack})===e}).map(c.apiTrendingToAlbum));case 5:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),getAlbumTracksByAlbumId:function(){var t=Object(s.a)(i.a.mark(function t(e){var r,a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.axios.get("/track.php",{params:{m:e}});case 2:return r=t.sent,a=r.data,t.abrupt("return",(a.track||[]).filter(function(t,e){return a.track.findIndex(function(e){return e.idTrack===t.idTrack})===e}).sort(function(t,e){return(parseInt(t.intTrackNumber)||0)-parseInt(e.intTrackNumber)||0}).sort(function(t,e){return(parseInt(t.intCD)||0)-parseInt(e.intCD)||0}).map(c.apiTracktoTrack));case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),getAlbumByArtistNameAndAlbumTitle:function(){var t=Object(s.a)(i.a.mark(function t(e,r){var a,n;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.axios.get("/searchalbum.php",{params:{s:e,a:r}});case 2:if(a=t.sent,(n=a.data).album){t.next=6;break}return t.abrupt("return",null);case 6:return t.abrupt("return",c.apiAlbumToAlbum(n.album[0]));case 7:case"end":return t.stop()}},t)}));return function(e,r){return t.apply(this,arguments)}}(),apiTrendingToAlbum:function(t){return{id:t.idAlbum,title:t.strAlbum,year:"",images:{thumb:t.strAlbumThumb,cover:{front:t.strAlbumThumb,back:"",spine:""}},artist:{id:t.idArtist,name:t.strArtist,formedYear:"",style:"",images:{thumb:t.strArtistThumb,wide:""}}}},apiTracktoTrack:function(t){return{id:t.idTrack,title:t.strTrack,duration:parseInt(t.intDuration),number:parseInt(t.intTrackNumber),youtubeLink:t.strMusicVid,album:{id:t.idAlbum,title:t.strAlbum,year:"",images:{thumb:t.strTrackThumb,cover:{front:t.strTrackThumb,back:"",spine:""}},artist:{id:t.idArtist,name:t.strArtist,style:t.strStyle,formedYear:"",images:{thumb:"",wide:""}}}}},apiAlbumToAlbum:function(t){return{id:t.idAlbum,title:t.strAlbum,year:t.intYearReleased,images:{thumb:t.strAlbumThumb,cover:{front:t.strAlbumThumbHQ||t.strAlbumThumb,back:t.strAlbumThumbBack,spine:t.strAlbumSpine}},artist:{id:t.idArtist,name:t.strArtist,style:t.strStyle,formedYear:"",images:{thumb:"",wide:""}}}},apiArtistToArtist:function(t){return{name:t.strArtist,id:t.idArtist,formedYear:t.intFormedYear||t.intBornYear,style:t.strStyle||t.strGenre,images:{thumb:t.strArtistThumb,wide:t.strArtistWideThumb||t.strArtistBanner||t.strArtistClearart||t.strArtistFanart||t.strArtistFanart2||t.strArtistFanart3}}}};c.axios.defaults.baseURL="https://theaudiodb.com/api/v1/json/195003/",c.axios.defaults.paramsSerializer=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.entries(t).map(function(t){var e=Object(a.a)(t,2),r=e[0],n=e[1];return[encodeURIComponent(r),encodeURIComponent((n||"").toString())].join("=")}).join("&")},e.a=c},146:function(t,e,r){"use strict";var a=r(18),n=r.n(a),i=r(38),s=n()("p")({display:"block",textAlign:"center",fontSize:14,color:"#BDBDBD",lineHeight:1,margin:{top:10}});e.a=Object(i.a)(s)},154:function(t,e,r){"use strict";var a=r(18),n=r.n(a)()("div")({position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:-2,"&:before":{content:'""',position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:-1,backgroundSize:"cover",backgroundPosition:"center",backgroundImage:function(t){var e=t.image;return"url('".concat(e,"')")}},"&:after":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:0,backgroundColor:function(t){return t.color}}});e.a=n},158:function(t,e,r){"use strict";var a=r(0),n=r.n(a),i=r(10),s=r.n(i)()({item:{position:"relative",display:"flex",justifyContent:"center",alignItems:"center",color:"#ecf0f1","&:after":{content:'""',display:"block",position:"absolute",left:50,right:0,bottom:0,height:1,backgroundColor:"rgba(255, 255, 255, 0.2)"},"&:last-child:after":{content:"none"},"&:first-child:last-child:after":{content:'""'}},text:{padding:[10,0],verticalAlign:"middle"},smallText:{extend:"text",width:50,fontSize:12,color:"#BDBDBD",textAlign:"center"},name:{extend:"text",flex:"1",textAlign:"left",fontSize:16}})(function(t){var e=t.classes,r=t.number,a=t.title,i=t.duration,s="--:--";if(i){var o=Math.floor(i/6e4),c=Math.round(i/1e3-60*o);s=o.toString().padStart(2,"0")+":"+c.toString().padStart(2,"0")}return n.a.createElement("div",{className:e.item},n.a.createElement("span",{className:e.smallText},r),n.a.createElement("span",{className:e.name},a),n.a.createElement("span",{className:e.smallText},s))});e.a=function(t){var e=t.tracks;return n.a.createElement("div",null,e.map(function(t){return n.a.createElement(s,{key:t.id,number:t.number,title:t.title,duration:t.duration})}))}},186:function(t,e,r){"use strict";r.r(e);var a=r(8),n=r.n(a),i=r(157),s=r(15),o=r(33),c=r(34),u=r(36),l=r(35),m=r(37),p=r(0),d=r.n(p),b=r(3),f=r(145),h=r(41),g=r(32),v=r(31),k=r(39),y=r(146),A=r(158),x=r(11),T=r(10),w=r.n(T),j=function(t){function e(){var t,r;Object(o.a)(this,e);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(r=Object(u.a)(this,(t=Object(l.a)(e)).call.apply(t,[this].concat(n)))).state={highlightedSide:"none"},r}return Object(m.a)(e,t),Object(c.a)(e,[{key:"toggleHighlightedSide",value:function(t){this.setState({highlightedSide:t===this.state.highlightedSide?"none":t})}},{key:"render",value:function(){var t=this,e=this.props,r=e.classes,a=e.front,n=e.spine,i=e.back;if(!a&&!n&&!i)return d.a.createElement("div",{className:r.wrapper});var s=a&&n&&i,o=s?[r.cover]:[];return"front"===this.state.highlightedSide&&o.push(r.coverFrontHighlight),"back"===this.state.highlightedSide&&o.push(r.coverBackHighlight),d.a.createElement("div",{className:r.wrapper},d.a.createElement("div",{className:o.join(" ")},s?d.a.createElement(d.a.Fragment,null,d.a.createElement("img",{src:a,alt:"Front cover",tabIndex:-1,className:r.front,onClick:function(){return t.toggleHighlightedSide("front")}}),d.a.createElement("img",{src:n,alt:"Cover spine",tabIndex:-1,className:r.spine}),d.a.createElement("img",{src:i,alt:"Back cover",tabIndex:-1,className:r.back,onClick:function(){return t.toggleHighlightedSide("back")}})):d.a.createElement("img",{src:a,alt:"Front cover",tabIndex:-1,className:r.frontOnly})))}}]),e}(p.Component),S={image:{position:"absolute",display:"inline-block",height:200,width:"auto"},cover:{cursor:"pointer",width:200,transition:[{property:"opacity",duration:".2s",timingFunction:"ease"}],"&:hover":{opacity:.8},"&:focus":{outline:"none",opacity:1}}},O={wrapper:{textAlign:"center",perspective:550,width:300,height:230,margin:"auto"},cover:{display:"inline-block",transformStyle:"preserve-3d",transform:"rotateY(90deg) translateZ(0)",transition:[{property:"transform",duration:".3s",timingFunction:"ease"}]},coverFrontHighlight:{transform:"rotateY(135deg) translateZ(0) translateX(-80px)"},coverBackHighlight:{transform:"rotateY(45deg) translateZ(0) translateX(-80px)"},front:{extend:[S.image,S.cover],transform:"rotateY(225deg) translateZ(115px)"},frontOnly:{display:"inline-block",height:200,width:200,margin:{top:35},boxShadow:{x:5,y:5,blur:5,color:"rgba(0, 0, 0, 0.3)"}},spine:{extend:S.image,width:10,transform:"rotateY(-90deg) translateZ(60px)"},back:{extend:[S.image,S.cover],transform:"rotateY(-45deg) translateZ(115px)"}},E=w()(O)(j),N=r(154),I=w()({album:{position:"relative",textAlign:"center",padding:[20,0],"&":"\n\t\t\tpadding-top: calc(env(safe-area-inset-top) + 30px);\n\t\t\tpadding-bottom: 20px;\n\t\t"},title:{fontSize:20,lineHeight:1,margin:{top:20,bottom:10}},year:{fontSize:14,lineHeight:1,margin:{bottom:5},color:"#BDBDBD"},artist:{fontSize:16,lineHeight:1,margin:0,color:"#BDBDBD"},link:{"&, &:focus":{textDecoration:"none",color:"#ecf0f1"}}})(function(t){var e=t.classes,r=t.title,a=t.year,n=t.frontCover,i=t.spineCover,s=t.backCover,o=t.artistName;return d.a.createElement("div",{className:e.album},d.a.createElement(N.a,{color:"rgba(0, 0, 0, .75)",image:n}),d.a.createElement(E,{front:n,spine:i,back:s}),d.a.createElement("h3",{className:e.title},r),d.a.createElement("p",{className:e.year},a),d.a.createElement("p",{className:e.artist},"by ",d.a.createElement(x.b,{to:"/artist/"+o,className:e.link},o)))}),B=function(t){function e(){var t,r;Object(o.a)(this,e);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(r=Object(u.a)(this,(t=Object(l.a)(e)).call.apply(t,[this].concat(n)))).state={album:{isLoading:!0,id:"",images:{thumb:"",cover:{back:"",front:"",spine:""}},title:"",year:"",artist:{id:"",name:"",style:"",formedYear:"",images:{thumb:"",wide:""}}},tracks:{isLoading:!0,error:null,list:[]}},r}return Object(m.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){var t=this.props.match.params.artistName,e=this.props.match.params.albumTitle;this.getAlbumInfo(t,e)}},{key:"getAlbumInfo",value:function(){var t=Object(s.a)(n.a.mark(function t(e,r){var a;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.setState({album:Object(i.a)({},this.state.album,{isLoading:!0})}),a=null,t.prev=2,t.next=5,f.a.getAlbumByArtistNameAndAlbumTitle(e,r);case 5:a=t.sent,t.next=11;break;case 8:return t.prev=8,t.t0=t.catch(2),t.abrupt("return",this.props.history.push("/500"));case 11:if(a){t.next=13;break}return t.abrupt("return",this.props.history.push("/404"));case 13:this.getTrackList(a.id),this.saveRecentlyViewed(a),this.setState({album:Object(i.a)({},this.state.album,a,{isLoading:!1})});case 16:case"end":return t.stop()}},t,this,[[2,8]])}));return function(e,r){return t.apply(this,arguments)}}()},{key:"getTrackList",value:function(){var t=Object(s.a)(n.a.mark(function t(e){var r,a;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.setState({tracks:Object(i.a)({},this.state.tracks,{list:[],isLoading:!0})}),r=[],a=null,t.prev=3,t.next=6,f.a.getAlbumTracksByAlbumId(e);case 6:r=t.sent,t.next=12;break;case 9:t.prev=9,t.t0=t.catch(3),a="We couldn't get the tracks, please try again in a few seconds";case 12:this.setState({tracks:Object(i.a)({},this.state.tracks,{error:a,isLoading:!1,list:r})});case 13:case"end":return t.stop()}},t,this,[[3,9]])}));return function(e){return t.apply(this,arguments)}}()},{key:"saveRecentlyViewed",value:function(){var t=Object(s.a)(n.a.mark(function t(e){return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:h.a.add(e,"album");case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this.state,e=t.album,r=t.tracks;return d.a.createElement(d.a.Fragment,null,d.a.createElement(I,{title:e.title,year:e.year,frontCover:e.images.cover.front,spineCover:e.images.cover.spine,backCover:e.images.cover.back,artistName:e.artist.name}),d.a.createElement(g.a,null,d.a.createElement(v.a,null,d.a.createElement(A.a,{tracks:r.list}),d.a.createElement(k.a,{show:r.isLoading}),d.a.createElement(y.a,{show:0===r.list.length&&!r.isLoading&&!r.error},"There is no track available"),d.a.createElement(y.a,{show:!!r.error&&!r.isLoading},r.error))))}}]),e}(p.Component);e.default=Object(b.f)(B)}}]);
//# sourceMappingURL=6.d1103961.chunk.js.map